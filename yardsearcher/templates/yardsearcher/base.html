{% load static %}
{% now "Y-m-d H:i" as tz %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% block title_text %}Scrap Hounds{% endblock %}
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'hsl(218, 15%, 12%)',
                        foreground: 'hsl(0, 0%, 95%)',
                        primary: 'hsl(22, 75%, 50%)',
                        'primary-foreground': 'hsl(0, 0%, 100%)',
                        secondary: 'hsl(0, 0%, 22%)',
                        'secondary-foreground': 'hsl(0, 0%, 95%)',
                        accent: 'hsl(35, 80%, 55%)',
                        muted: 'hsl(218, 12%, 18%)',
                        'muted-foreground': 'hsl(0, 0%, 65%)',
                        border: 'hsl(0, 0%, 28%)',
                        card: 'hsl(218, 15%, 16%)',
                    }
                }
            }
        }
    </script>
    {% block extra_links %} {% endblock %}
</head>
<body class="min-h-screen  bg-background">
    <div class=" w-full min-h-screen">
        <!-- 
        Sidebar not relevant for MVP
        <div name="left-nav" class="d-none d-md-flex bg-secondary px-4 vh-100 flex-md-col col-md-4 col-lg-2">

        </div> -->
        {% block header %}
            <!-- Header -->
            <header class="border-b border-border bg-card/50 backdrop-blur-sm z-50">
                <div class="container mx-auto px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded bg-primary flex items-center justify-center text-lg lg:2xl shadow-lg">
                                ðŸ”§
                            </div>
                            <div>
                                <h1 class="text-lg lg:2xl font-bold text-foreground tracking-tight">
                                    Junkyard <span class="text-primary">Finder</span>
                                </h1>
                                <p class="text-sm text-muted-foreground">Multi-yard inventory search</p>
                            </div>
                        </div>
                        <div class="hidden md:flex justify-center items-center gap-4">
                            <div class="flex px-3 py-1.5 bg-card border-primary text-secondary-foreground rounded-md text-sm font-medium">
                                <span class=" mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="fill-current text-primary/80 w-5 h-5"><!--!Font Awesome Free v7.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M320 48C337.7 48 352 62.3 352 80L352 98.3C450.1 112.3 527.7 189.9 541.7 288L560 288C577.7 288 592 302.3 592 320C592 337.7 577.7 352 560 352L541.7 352C527.7 450.1 450.1 527.7 352 541.7L352 560C352 577.7 337.7 592 320 592C302.3 592 288 577.7 288 560L288 541.7C189.9 527.7 112.3 450.1 98.3 352L80 352C62.3 352 48 337.7 48 320C48 302.3 62.3 288 80 288L98.3 288C112.3 189.9 189.9 112.3 288 98.3L288 80C288 62.3 302.3 48 320 48zM160 320C160 408.4 231.6 480 320 480C408.4 480 480 408.4 480 320C480 231.6 408.4 160 320 160C231.6 160 160 231.6 160 320zM320 224C373 224 416 267 416 320C416 373 373 416 320 416C267 416 224 373 224 320C224 267 267 224 320 224z"/></svg></span>
                                <span id="yard-count">{{ total_yards }} Yards</span>
        
                            </div>
                            <div class="flex px-3 py-1.5 bg-card border-primary text-secondary-foreground rounded-md text-sm font-medium">
                                <span class=" mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"  class="fill-current text-primary/80 w-5 h-5"><!--!Font Awesome Free v7.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M199.2 181.4L173.1 256L466.9 256L440.8 181.4C436.3 168.6 424.2 160 410.6 160L229.4 160C215.8 160 203.7 168.6 199.2 181.4zM103.6 260.8L138.8 160.3C152.3 121.8 188.6 96 229.4 96L410.6 96C451.4 96 487.7 121.8 501.2 160.3L536.4 260.8C559.6 270.4 576 293.3 576 320L576 512C576 529.7 561.7 544 544 544L512 544C494.3 544 480 529.7 480 512L480 480L160 480L160 512C160 529.7 145.7 544 128 544L96 544C78.3 544 64 529.7 64 512L64 320C64 293.3 80.4 270.4 103.6 260.8zM192 368C192 350.3 177.7 336 160 336C142.3 336 128 350.3 128 368C128 385.7 142.3 400 160 400C177.7 400 192 385.7 192 368zM480 400C497.7 400 512 385.7 512 368C512 350.3 497.7 336 480 336C462.3 336 448 350.3 448 368C448 385.7 462.3 400 480 400z"/></svg></span>
                                <span id="vehicle-count">{{ total_vehicles }} Vehicles</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
        {% endblock %}
        {% block main_content %}
        {% endblock %}
    </div>
    {% comment %} No longer supporting dual modal and offscreen setup 
        <!-- Offcanvas Bottom Menu appears on sm devices only -->
        <div class="offcanvas offcanvas-bottom d-md-none bg-secondary p-4 gap-4 h-auto" tabindex="-1" id="offcanvasBottom" id="popupOffcanvas" aria-labelledby="offcanvasBottomLabel">

            <!-- Header div for offcanvas-bottom -->
            <div class="offcanvas-header p-0 ">
                <h5 class="offcanvas-title p-0 fs-3" id="offcanvasBottomLabel">
                    {% block popup-heading-text %}{% endblock %}
                </h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>

            <!-- Content div for offcanvas-bottom -->
            <div class="offcanvas-body p-0">
                {% block popup-content %}{% endblock %}
            </div>

            <!-- Div for offcanvas-bottom button -->
            <div>
                <button class="btn btn-primary py-3 btn-md w-100 ">
                    {% block popup-button-text %} {% endblock %}
                </button>
            </div>
        </div>
    {% endcomment %}

    <!-- The Dynamic Popup Modal -->
    <!-- <div class="modal fade px-4" tabindex="-1" id="popupModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4 gap-4">
                <div class="modal-header border-0 p-0">
                    <h5 class="modal-title">
                        {% block popup-heading-text %}{% endblock %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        
                    </button>
                </div>
                <div class="modal-body p-0">
                    {% block popup-content %}{% endblock %}
                </div>
                <div class="modal-footer border-0 p-0">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">
                        {% block popup-button-text %}{% endblock %}
                    </button>
                </div>
            </div>
        </div>
    </div> -->


    <!-- Global JS files -->
    <script src="{% static 'js/bootstrap.bundle.min.js'%}?v={{tz}}"></script>
    {% block extra_scripts %}{% endblock %}
</body>
</html>