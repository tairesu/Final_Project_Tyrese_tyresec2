{% load static %}
{% now "Y-m-d H:i" as tz %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% block title_text %}Scrap Hounds{% endblock %}
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'hsl(218, 15%, 12%)',
                        foreground: 'hsl(0, 0%, 95%)',
                        primary: 'hsl(22, 75%, 50%)',
                        'primary-foreground': 'hsl(0, 0%, 100%)',
                        secondary: 'hsl(0, 0%, 22%)',
                        'secondary-foreground': 'hsl(0, 0%, 95%)',
                        accent: 'hsl(35, 80%, 55%)',
                        muted: 'hsl(218, 12%, 18%)',
                        'muted-foreground': 'hsl(0, 0%, 65%)',
                        border: 'hsl(0, 0%, 28%)',
                        card: 'hsl(218, 15%, 16%)',
                    }
                }
            }
        }
    </script>
    {% block extra_links %} {% endblock %}
</head>
<body class="min-h-screen  bg-background">
    <div class=" w-full min-h-screen">
        <!-- 
        Sidebar not relevant for MVP
        <div name="left-nav" class="d-none d-md-flex bg-secondary px-4 vh-100 flex-md-col col-md-4 col-lg-2">

        </div> -->
        {% block header %}
            <!-- Header -->
            <header class="border-b border-border bg-card/50 backdrop-blur-sm z-50">
                <div class="container mx-auto px-4 py-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded bg-primary flex items-center justify-center text-lg lg:2xl shadow-lg">
                                üîß
                            </div>
                            <div>
                                <h1 class="text-lg lg:2xl font-bold text-foreground tracking-tight">
                                    Junkyard <span class="text-primary">Finder</span>
                                </h1>
                                <p class="text-sm text-muted-foreground">Multi-yard inventory search</p>
                            </div>
                        </div>
                        <div class=" hidden md:flex items-center gap-4">
                            <div class="px-3 py-1.5 bg-secondary text-secondary-foreground rounded-md text-sm font-medium">
                                <span class=" mr-1">üìç</span>
                                <span id="yard-count">{{ total_yards }}</span> Yards
                            </div>
                            <div class="px-3 py-1.5 bg-secondary text-secondary-foreground rounded-md text-sm font-medium">
                                <span class=" mr-1">üöó</span>
                                <span id="vehicle-count">{{ total_vehicles }}</span> Vehicles
                            </div>
                        </div>
                    </div>
                </div>
            </header>
        {% endblock %}
        {% block main_content %}
        {% endblock %}
    </div>
    {% comment %} No longer supporting dual modal and offscreen setup 
        <!-- Offcanvas Bottom Menu appears on sm devices only -->
        <div class="offcanvas offcanvas-bottom d-md-none bg-secondary p-4 gap-4 h-auto" tabindex="-1" id="offcanvasBottom" id="popupOffcanvas" aria-labelledby="offcanvasBottomLabel">

            <!-- Header div for offcanvas-bottom -->
            <div class="offcanvas-header p-0 ">
                <h5 class="offcanvas-title p-0 fs-3" id="offcanvasBottomLabel">
                    {% block popup-heading-text %}{% endblock %}
                </h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>

            <!-- Content div for offcanvas-bottom -->
            <div class="offcanvas-body p-0">
                {% block popup-content %}{% endblock %}
            </div>

            <!-- Div for offcanvas-bottom button -->
            <div>
                <button class="btn btn-primary py-3 btn-md w-100 ">
                    {% block popup-button-text %} {% endblock %}
                </button>
            </div>
        </div>
    {% endcomment %}

    <!-- The Dynamic Popup Modal -->
    <!-- <div class="modal fade px-4" tabindex="-1" id="popupModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4 gap-4">
                <div class="modal-header border-0 p-0">
                    <h5 class="modal-title">
                        {% block popup-heading-text %}{% endblock %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        
                    </button>
                </div>
                <div class="modal-body p-0">
                    {% block popup-content %}{% endblock %}
                </div>
                <div class="modal-footer border-0 p-0">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">
                        {% block popup-button-text %}{% endblock %}
                    </button>
                </div>
            </div>
        </div>
    </div> -->


    <!-- Global JS files -->
    <script src="{% static 'js/bootstrap.bundle.min.js'%}?v={{tz}}"></script>
    {% block extra_scripts %}{% endblock %}
</body>
</html>